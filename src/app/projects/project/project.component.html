<app-navbar></app-navbar>

<input type="text"
    class="project-title-input"
    [(ngModel)]="projectName" 
>

<div class="categories-cont">
    <ng-container  *ngFor="let category of categories">
    <div *ngIf="category?.name !=''" class="categorie">
    
        <section class="category-header">
         <h4>{{category?.name}}</h4>
        </section>

        <section class="category-body">
        
             <div *ngFor="let task of category?.tasks" 
             class="task-cont" 
             (click)="toggleModal('open-task',task)" >
                 <h4>{{task?.task_title}}</h4>

                 <div class="tags-cont">
                     <ng-container *ngFor="let tag of task?.task_tags">

                         <div class="tag color-{{tag.tag_color}}" >
                                 {{tag.tag_text}}
                         </div>
                     </ng-container>

                 </div>
             </div>
  
         <div class="add-btn task" (click)="toggleModal('open-add-task')">
             <h4>Add Task</h4>
         </div>
        </section>
    </div>

    <div class="add-btn category" (click)="toggleModal('open-add-category')">
        <h4>Add Category</h4>
    </div>
    </ng-container>
</div>


<app-modal-add
    *ngIf="showAddModal" 
    [modalSubject] = "modalSubject" 
    (toogleModal)="toggleModal($event)"
 ></app-modal-add>

<app-modal-task
    *ngIf="showTaskModal" 
    [modalSubject] = "modalSubject" 
    [task] = "taskSelected" 
    (toogleModal)="toggleModal($event)"
 ></app-modal-task>
